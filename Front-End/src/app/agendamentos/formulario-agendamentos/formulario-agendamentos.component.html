<p-dialog
	header="Cadastro de Agendamento"
	[contentStyle]="{ overflow: 'visible' }"
	[modal]="true"
	[style]="{ width: '50vw', height: '' }"
	[(visible)]="exibirFormulario"
	*ngIf="exibirFormulario">
	<form class="d-flex flex-column gap-3">
		<div class="d-flex flex-row gap-3">
			<div class="d-flex flex-column w-100">
				<label for="agendamento.data">Data do Agendamento:</label>
				<p-calendar
					[(ngModel)]="agendamento.data"
					data-cy="agendamento.data"
					name="agendamento.data"
					dateFormat="dd/mm/yy"
					dataType="string"
					[showTime]="false"
					[showIcon]="true"
					styleClass="w-100" />
			</div>

			<div class="d-flex flex-column w-100">
				<label for="agendamento.hora">Hora do Agendamento:</label>
				<p-calendar
					[(ngModel)]="agendamento.hora"
					data-cy="agendamento.hora"
					name="agendamento.hora"
					dateFormat="HH:mm"
					dataType="string"
					[showTime]="true"
					[timeOnly]="true"
					[showSeconds]="true"
					[showIcon]="true"
					styleClass="w-100" />
			</div>

			<div
				*ngIf="agendamento.id"
				class="d-flex flex-column w-100">
				<label for="agendamento.status">Status:</label>
				<p-dropdown
					[(ngModel)]="agendamento.status"
					field="agendamento.status"
					data-cy="agendamento.status"
					name="agendamento.status"
					[options]="status"
					styleClass="w-100" />
			</div>
		</div>

		<div class="d-flex flex-row gap-3">
			<div class="d-flex flex-column w-100">
				<label for="agendamento.cliente">Cliente:</label>
				<p-dropdown
					[(ngModel)]="agendamento.cliente"
					field="agendamento.cliente.nome"
					data-cy="agendamento.cliente"
					name="agendamento.cliente"
					[options]="clientes"
					optionLabel="nome"
					styleClass="w-100" />
			</div>

			<div class="d-flex flex-column w-100">
				<label for="agendamento.servico">Serviço:</label>
				<p-dropdown
					[(ngModel)]="agendamento.servico"
					field="agendamento.servico.nome"
					data-cy="agendamento.servico"
					name="agendamento.servico"
					[options]="servicos"
					optionLabel="nome"
					styleClass="w-100" />
			</div>

			<div class="d-flex flex-column w-100">
				<label for="agendamento.funcionario">Funcionário:</label>
				<p-dropdown
					[(ngModel)]="agendamento.funcionario"
					field="agendamento.funcionario.nome"
					data-cy="agendamento.funcionario"
					name="agendamento.funcionario"
					[options]="funcionarios"
					optionLabel="nome"
					styleClass="w-100" />
			</div>
		</div>

		<div class="d-flex flex-column">
			<label for="agendamento.observacao">Observações:</label>
			<textarea
				[(ngModel)]="agendamento.observacao"
				data-cy="agendamento.observacao"
				pInputTextarea
				name="agendamento.observacao">
			</textarea>
		</div>

		<p-button
			data-cy="agendamento.submit"
			label="Salvar Agendamento"
			styleClass="w-100"
			(onClick)="salvarAgendamento()" />
	</form>
</p-dialog>
